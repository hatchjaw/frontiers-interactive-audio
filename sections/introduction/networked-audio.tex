\subsection{Networked Audio}\label{subsec:networked-audio}

The transmission of audio data has been a topic of research interest since the
earliest days of computer networking as it is recognised today, i.e.\ over
packet-switched networks, whereby data to be transmitted is grouped into
packets \textemdash{} or ``datagrams'' \textemdash{} each consisting of a header
and a payload.
Voice transmission over ARPANET was being conducted as early as
1974~\citep{schulzrinne_voice_1992} and the first standard for voice
communication over packet-switched networks \textemdash{} the Network Voice
Protocol (NVP) \textemdash{} was released in
1977~\citep{cohen_specifications_1977}.

With its references to `calling' and `ringing', it is clear that the NVP
standard was intended for digital telephony.
Indeed, research on networked audio was primarily concerned with telephony well
into the 1990s, focusing on real-time voice communication over wide area
networks (WAN) with efforts centring on \textit{quality of service} (QoS),
particularly with regard to the perennial issues of latency, packet loss, and
network jitter \textemdash{} inconsistencies in the rate of packet
transmission~\citep{hardman_reliable_1995,hardman_successful_1998}.
Work at this time dealt with streams of compressed audio data, and speech
coding algorithms to overcome the deleterious effects of dropped packets over
unreliable network paths and low-bandwidth connections.

Whereas the priority for digital telephony, and later voice over IP (VoIP)
systems, is intelligibility, for musical purposes fidelity is of greater 
concern.
The late 1990s, with the increasing availability of high-speed internet 
connections, saw the beginning of research into transmitting uncompressed audio 
data over the internet~\citep{chafe_simplified_2000,xu_real-time_2000}.
Work of this sort was spearheaded by the \textit{SoundWIRE} project, developed
by researchers at McGill University and Stanford University, and took the form
of a wide variety of experiments with high quality audio over both WAN and local
area networks (LAN).
These experiments included LAN-based real-time musical
performances~\citep{chafe_simplified_2000}, concert streaming over
WAN~\citep{xu_real-time_2000,chafe_simplified_2000}, and sonification of QoS via
a distributed digital waveguide dubbed the
\textit{Network Harp}~\citep{chafe_simplified_2000,chafe_physical_2002}

\subsubsection{Protocols and Systems}\label{subsubsec:protocols-systems}

VoIP research in the 1990s focused on audio codecs and data
compression~\citep{turletti_inria_1994,hardman_successful_1998}, seeking a
compromise with the \textit{best-effort} nature of internet service.
The SoundWIRE project, in search of high audio quality, turned its attention
directly to the basic transport layer protocols of the Internet Protocol suite:
Transmission Control Protocol (TCP) and User Datagram Protocol (UDP).
Chafe et al.\ characterised their compression-free system as taking a
``simplified approach'' to networked audio~\citep{chafe_simplified_2000},
emphasising the importance of delivering multichannel audio of at least CD
quality (16-bit, \qty{44.1}{\kHz}) with as little latency as possible.

SoundWIRE experiments included using TCP for unidirectional transmission such as
concert streaming.
TCP is in fact a bidirectional protocol, but its \textit{connection-oriented},
one-to-one design allows for packet flow control mechanisms that guarantee
packet ordering and provide protections against packet
loss~\citep{schiavoni_alternatives_2013,al-dhief_performance_2018}.
These mechanisms mean that, at the expense of increased latency, quality of
service, and thus audio fidelity, is ensured; ideal for a remote concert
scenario.

UDP by comparison is a \textit{connectionless} protocol, providing no guarantees
regarding the integrity of the packet stream, but equally none of the
computational or temporal overhead that such guarantees introduce.
A networked device can send UDP packets to a valid address irrespective of the
presence or otherwise of another device at that address.
Further, \textit{many-to-many} (multicast) and \textit{one-to-many} (broadcast)
modes of transmission are possible via address spaces reserved as part of the
internet protocol standard~\citep{meyer_iana_2010}.
Via UDP, SoundWIRE was able to run as a distributed digital waveguide over a
WAN spanning around \qty{4500}{\km}~\citep{chafe_simplified_2000}.

From the SoundWIRE project emerged
\textit{JackTrip}~\citep{caceres_jacktrip_2010,caceres_jacktripsoundwire_2010},
a hybrid system that couples a TCP handshake with audio transmission over UDP,
thus sidestepping the overhead of TCP packet flow control.
Rather than relying on TCP's built-in mechanisms for stream integrity, JackTrip
supplements UDP with a number of optional buffering strategies that aim to
tailor its use to operation over local versus wide area networks.
In this sense it is more flexible than TCP, but in effect JackTrip moulds UDP
transmission into something akin to the connection-oriented model of TCP, and,
in its `hub server' mode, into a kind of \textit{multiple one-to-one} design
\textemdash{} multicast transmission is not possible.

UDP has emerged as the protocol of choice for platforms enabling remote musical
collaboration, serving as the basis for NetJACK~\citep{carot_netjack_2009}, part
of the JACK Audio Connection Kit (a cross-platform audio host), the audiovisual
performance streaming platform LOLA~\citep{drioli_networked_2013},
Jamulus~\citep{fischer_case_2015}, Soundjack~\citep{renaud_networked_2007}, and
other jamming-focused platforms, plus more recent entrants, the closed-source,
but ultimately UDP-based Elk OS~\citep{turchet_elk_2021} for instance.
UDP even plays a fundamental role in proprietary systems such as Dante (Digital
Audio Network Through Ethernet)~\citep{dante_what_2022}.

\subsubsection{AoE in the Audio Industry}

In parallel with the work being carried out in academia on SoundWIRE, JackTrip
and NetJACK, audio industry bodies \textemdash{} the IEEE (Institute of
Electrical and Electronics Engineers) and AES (Audio Engineering Society)
standards groups, and companies like Audinate, the creators of Dante
\textemdash{} were taking an interest in networked audio.
Traditional large-scale audio systems such as those used in broadcast, concert
venues and recording studios rely on the installation of unwieldy combinations
of analogue hardware and cabling, with many potential points of failure.
Seeking literally to lighten the load posed by ``hundreds of
kilograms''~\citep{bakker_introduction_2014} of cabling in analogue audio
installations, in the 2000s audio companies were looking to high speed ethernet
as a means to simplify the provision of high-quality, multichannel audio in
industry settings.

Key to these efforts was the release, in 2002, of the IEEE 1588 standard for the
Precision Time Protocol (PTP), a means by which networked computer systems
can achieve clock synchronicity~\citep{edison_ieee-1588_2002}.
PTP superseded the lower-resolution Network Time Protocol (NTP), and, under
ideal conditions, can achieve synchronisation accuracy of sub-microsecond
order~\citep{tongzhou_research_2022}.
Synchronisation is achieved via the exchange of timestamped packets, coupled
with precise estimates for send and receive times.
Precision is best when timestamps can be calculated at the \textit{physical
layer} \textemdash{} the lowest level of the Open Systems Interconnection (OSI)
model, of which the aforementioned transport layer is a component \textemdash{}
i.e.\ by dedicated timers at the level of the physical network interface.
Legacy and low-cost networking equipment do not possess support for hardware
timestamping, however~\citep{correll_design_2005}, and devices that do offer
such support are markedly more expensive.\footnote{
    Consumer-grade, eight-port ethernet switches can cost as little as
    \texteuro{20};
    The cheapest equivalent devices with PTP support cost, at the time of
    writing, on the order of \texteuro{150-200}, e.g.\
    \url{https://www.fs.com/de-en/products/148180.html} \textemdash{} All URLs
    verified 12/01/2024.
}
PTP can be deployed as a software-only
implementation~\citep{correll_design_2005}, albeit with impaired accuracy and
a protracted clock-convergence period.

Dante, with its promise of low-latency, highly-multichannel audio over wired
LAN, and device synchronisation via hardware PTP, has become the de facto
industry standard in networked audio~\citep{bakker_introduction_2014}.
In 2011, IEEE released the Audio Video Bridging (AVB, IEEE 802.1)
standard~\citep{ieee_ieee_2011}, and AES67 followed in
2013~\citep{hildebrand_aes67-2013_2014};
these open technical standards describe operation at layers below TCP and UDP
in the OSI model, and provide frameworks for
interoperability between AoE and AoIP systems, including mechanisms for device
discovery and synchronisation, again via PTP\@.
Being standards, and not implementations in themselves, it is then up to
manufacturers to implement the appropriate recommendations in their products.

Bakker et al.\ refer to Dante as an ``open'' system, which is true, perhaps, in
the sense that companies can incorporate the Dante system into their products
under licence from Audinate;
from the perspective of the academic community, however, Dante is very much a
closed-source initiative and not a suitable platform for research.
Open implementations of AVB and AES67 exist, but, being complex standards
featuring many components, such implementations may not be complete, and support
for embedded platforms is limited,\footnote{
    See, for example, \url{https://github.com/tschiemer/aes67} and
    \url{https://github.com/adiknoth/Open-AVB}.
} and a reliance on PTP raises the barrier to entry, if hardware-based accuracy
is sought.
Ultimately, if an accessible solution is sought, attention must be turned back
to the transport layer, and UDP\@.

\subsubsection{Challenges Posed by Networked Audio}\label{subsubsec:challenges}

Time, especially when dealing with the fine margins posed by real-time audio
processing, represents the principal source of difficulty in a networked
audio setting.

\textit{Jitter} refers to fluctuations in the rate of transmission or
processing.
In a networked audio setting, jitter gives rise to a situation whereby the
arrival of audio data does not correspond with the moments at which it is
needed.
In a naive implementation, this may result in a recipient either halting
processing until it receives the expected data, or simply continuing without
any data.
In either case, the result is likely to be disruption of the integrity of the
audio signal in the form of audible discontinuities.

\textit{Clock drift} arises as an inevitable consequence of no source of time
in a system of computation being perfectly uniform, and no two sources of time
being identical.
The timing of a computer system is typically governed by a crystal oscillator,
the accuracy of which is affected by factors such as ambient temperature, and
potentially computational load on the system it
governs~\citep{marouani_internal_2008}.
Relative drift (sometimes, within the diagnostic parts of JackTrip for example,
referred to as \textit{skew}), is the difference in clock rates between two or
more systems.
Whereas jitter is a transient phenomenon, clock drift is continuous, and as two
distinct systems of time move in and out of phase with each other over the
longer term, drift may indeed give rise to jitter.

In professional audio settings, devices may be synchronised via an authoritative
clock source such as word clock, or, in a networked setting, via PTP.\
In the absence of such an authoritative source, e.g.\ over a wide area network,
or if using hardware that does not support such measures, buffering strategies
are typically employed, coupled with delay-locked
loops and resampling~\citep{adriaensen_using_2005, adriaensen_controlling_2012}.
